# Application
APP_NAME=FlowRAG
ENV=development
DEBUG=true
LOG_LEVEL=INFO

# API
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1

# Neo4j
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your-password-here
NEO4J_DATABASE=flowrag

# Qdrant
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION=code_embeddings
QDRANT_VECTOR_SIZE=1536

# Redis (for caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# OpenAI
OPENAI_API_KEY=your-openai-key-here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Anthropic (optional)
ANTHROPIC_API_KEY=your-anthropic-key-here
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Local SLM (Gemma 3 270M)
SLM_MODEL_NAME=google/gemma-3-270m
SLM_DEVICE=cpu  # Options: cpu, cuda, mps (for Mac), auto
SLM_MAX_LENGTH=512
SLM_TEMPERATURE=0.1
SLM_USE_CACHE=true

# Ingestion
MAX_CHUNK_SIZE=1000
CHUNK_OVERLAP=200
SUPPORTED_LANGUAGES=python,javascript,typescript,go,rust,java

# CORS (Cross-Origin Resource Sharing)
# Comma-separated list of allowed origins for production
# Leave empty in development to allow all localhost origins
# Example for production: CORS_ORIGINS=https://myapp.com,https://www.myapp.com
CORS_ORIGINS=

# ============================================================================
# Security Settings (NEW - Backward Compatible)
# ============================================================================
# These settings control security features. All are DISABLED by default
# in development mode to maintain backward compatibility.
#
# IMPORTANT: Enable these in production for security!
# ============================================================================

# Enable API key authentication
# - false (default): All endpoints are open (DEVELOPMENT ONLY)
# - true: Requires X-API-Key header for protected endpoints
ENABLE_SECURITY=false

# Enable rate limiting
# - false (default): No rate limiting (DEVELOPMENT ONLY)
# - true: Enforces rate limits to prevent abuse
ENABLE_RATE_LIMITING=false

# Enable path validation for file operations
# - true (default): Validates file paths to prevent directory traversal
# - false: Allows any file path (DANGEROUS - dev testing only)
ENABLE_PATH_VALIDATION=true

# API Keys (comma-separated list)
# Only used when ENABLE_SECURITY=true
# Example: API_KEYS=key1-abc123,key2-def456,key3-ghi789
# Generate keys with: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEYS=

# Allowed directories for file access (comma-separated list)
# Only used when ENABLE_PATH_VALIDATION=true
# Example: ALLOWED_DIRECTORIES=/app/data,/app/uploads,/tmp/flowrag
# Leave empty to allow current directory and user home directory
ALLOWED_DIRECTORIES=

# Maximum file size for ingestion (in MB)
MAX_FILE_SIZE_MB=10

# Rate limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=60

# JWT Settings (for future OAuth/JWT implementation)
SECRET_KEY=your-secret-key-change-in-production-min-32-chars
ACCESS_TOKEN_EXPIRE_MINUTES=30
ALGORITHM=HS256

# ============================================================================
# PRODUCTION SECURITY EXAMPLE
# ============================================================================
# For production, use these settings:
#
# ENV=production
# DEBUG=false
# ENABLE_SECURITY=true
# ENABLE_RATE_LIMITING=true
# ENABLE_PATH_VALIDATION=true
# API_KEYS=prod-key-abc123xyz,prod-key-def456uvw
# ALLOWED_DIRECTORIES=/app/data,/app/uploads
# SECRET_KEY=<generate-strong-random-key-min-64-chars>
# ============================================================================
